_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{"+aJD":function(e,t,n){"use strict";n.r(t);var a=n("NthX"),r=n.n(a),i=n("eijD"),c=n("aNYv"),o=n("mXGw"),u=n.n(o),s=n("apO0"),p=n("BQn0"),l=n("V2/N"),f=n("mdnY"),d=n("xds5"),b=function(){return Object(f.c)("/api/popular",function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data.list);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},m=n("O6aX"),g=n("q0Ep"),w=u.a.createElement,j=function(){var e=b().data,t=Object(g.b)();return w(p.a,null,w(l.a,{container:!0,wrap:"wrap",justify:"flex-start",className:t.container,spacing:2},e?e.map((function(e,t){return w(l.a,{item:!0,xs:!0,key:e.gid,"data-index":t},w(m.b,{record:e}))})):new Array(25).fill(0).map((function(e,t){return w(m.a,{key:t})}))))},O=n("k7Sn"),h=u.a.createElement,v=function(){var e=Object(O.useTranslation)(),t=Object(c.a)(e,1)[0];return h(s.a,{title:t("Popular"),showAvatar:!0,showSearch:!0},h(j,null))};t.default=v;v.getInitialProps=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})))},"I/tK":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/popular",function(){return n("+aJD")}])},q0Ep:function(e,t,n){"use strict";n.d(t,"b",(function(){return k}));var a=n("/NZN"),r=n("BQn0"),i=n("/ZiB"),c=n("V2/N"),o=n("NthX"),u=n.n(o),s=n("eijD"),p=n("aNYv"),l=n("mK0O"),f=n("mXGw"),d=n.n(f),b=n("bBV7"),m=n("R82R"),g=n("ozoj"),w=n("O6aX"),j=n("oHZm"),O=n("mdnY"),h=n("xds5"),v=n("vCr3"),N=n("k7Sn"),x=d.a.createElement,k=Object(m.a)((function(e){var t;return Object(g.a)({searchButton:{marginLeft:e.spacing(1)},title:{fontSize:"10pt",height:36,overflow:"hidden"},card:{margin:e.spacing(0,"auto")},btn:{margin:e.spacing(1,0)},container:(t={display:"grid",marginTop:e.spacing(1),gridTemplateColumns:"repeat(5, 1fr)"},Object(l.a)(t,e.breakpoints.between(1e3,1250),{gridTemplateColumns:"repeat(4, 1fr)"}),Object(l.a)(t,e.breakpoints.between(750,1e3),{gridTemplateColumns:"repeat(3, 1fr)"}),Object(l.a)(t,e.breakpoints.between("xs",750),{gridTemplateColumns:"repeat(2, 1fr)"}),Object(l.a)(t,e.breakpoints.down("xs"),{gridTemplateColumns:"repeat(1, 1fr)"}),t)})}));t.a=function(e){var t=e.f_search,n=void 0===t?"":t,o=k(),l=(Object(b.useRouter)(),Object(v.a)(600)),d=Object(p.a)(l,2),m=d[0],g=d[1],y=Object(N.useTranslation)(),E=Object(p.a)(y,1)[0],_=Object(O.e)("gallery"+n,(function(e){var t=e.offset,a=e.withSWR,r="/api/gallery?page=".concat(t||0,"&f_search=").concat(n),i=a(Object(O.c)(r,function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).data;return i?i&&i.error?(j.a.error(i.message),N.Router.replace("/signin"),[]):0===i.total?[]:i.list.map((function(e,n){return x(c.a,{item:!0,xs:!0,key:e.gid,"data-index":25*(t||0)+n},x(w.b,{record:e}))})):new Array(25).fill(0).map((function(e,t){return x(w.a,{key:t})}))}),(function(e,t){var n=e.data;return(null===n||void 0===n?void 0:n.error)||n.total<=25*(t+1)?null:t+1}),[n]),T=_.pages,R=_.isLoadingMore,X=_.isReachingEnd,B=_.loadMore,C=_.isEmpty;return Object(f.useEffect)((function(){!m||R||X||B()}),[m,R,X,B]),C?x(r.a,null,x(i.a,{variant:"subtitle2",align:"center",gutterBottom:!0},E("Search.NoThisFound"))):x(r.a,null,x(c.a,{container:!0,wrap:"wrap",justify:"flex-start",className:o.container,spacing:2},T),!C&&x(a.a,{buttonRef:g,fullWidth:!0,disabled:R||X,className:o.btn},X?E("ReachEnd"):R?E("Loading")+"...":E("More")))}},xlJo:function(e,t,n){"use strict";function a(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return a}))}},[["I/tK",1,2,11,0,3,4,5,6,7,8,10,9,12,14,15]]]);